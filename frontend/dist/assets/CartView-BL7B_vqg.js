import{u as C,n as V,c as o,b as s,F as m,l as b,t as r,i as u,g as _,h as v,R as h,s as f,o as n,a as F,z as S,d as y}from"./index-Dn0hYYMP.js";const B={class:"cart-page-main"},I={class:"cart-page-container"},N={key:0,class:"cart-grid"},P={class:"cart-items"},T={class:"item-image"},q=["src","alt"],L={class:"item-details"},R={class:"item-title"},z={class:"item-platform"},A=["src","alt"],E={key:1},Q={class:"item-pricing"},$={key:0,class:"item-price-discounted"},j={key:1,class:"item-price-original"},D={key:2,class:"item-price"},H={class:"actions-container"},M={class:"update-form"},G=["value","onChange"],J=["onClick"],K={class:"cart-summary"},O={class:"summary-row"},U={class:"summary-row total"},W={key:1,class:"cart-empty-state"},Z={__name:"CartView",setup(X){C();const i=V(),d=f(()=>i.items),g=f(()=>i.cartTotal),k=a=>{i.removeFromCart(a)},w=(a,t)=>{i.updateQuantity(a,t)},l=a=>parseFloat(a).toFixed(2)+" €",x=a=>{if(!a)return"pc";const t=a.toLowerCase();return t.includes("xbox")?"xbox":t.includes("ps")||t.includes("playstation")?"ps":t.includes("switch")||t.includes("nintendo")?"switch":t.includes("steam")?"steam":"pc"};return(a,t)=>(n(),o("div",B,[s("div",I,[t[8]||(t[8]=s("h1",null,"Cesta",-1)),d.value.length>0?(n(),o("div",N,[s("div",P,[(n(!0),o(m,null,b(d.value,(e,c)=>(n(),o("div",{key:c,class:"cart-item-card"},[s("div",T,[s("img",{src:e.product.image_url,alt:e.product.name},null,8,q)]),s("div",L,[s("h3",R,r(e.product.name),1),s("div",z,[e.platform?(n(),o(m,{key:0},[s("img",{src:`/images/icons/${x(e.platform.name)}.png`,alt:e.platform.name},null,8,A),s("span",null,r(e.platform.name),1)],64)):(n(),o("span",E,"Plataforma no especificada"))])]),s("div",Q,[e.product.is_offer?(n(),o("span",$,r(l(e.product.final_price)),1)):F("",!0),e.product.is_offer?(n(),o("span",j,r(l(e.product.price)),1)):(n(),o("span",D,r(l(e.product.final_price)),1)),s("div",H,[s("div",M,[s("input",{type:"number",value:e.quantity,min:"1",max:"10",class:"quantity-input",onChange:p=>w(c,parseInt(p.target.value))},null,40,G)]),s("button",{onClick:p=>k(c),class:"btn-delete",title:"Eliminar producto"},[...t[0]||(t[0]=[S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',1)])],8,J)])])]))),128))]),s("div",K,[t[4]||(t[4]=s("h2",null,"Resumen",-1)),s("div",O,[t[1]||(t[1]=s("span",null,"Artículos",-1)),s("span",null,r(u(i).cartCount),1)]),s("div",U,[t[2]||(t[2]=s("span",null,"Total",-1)),s("span",null,r(l(g.value)),1)]),_(u(h),{to:"/checkout",class:"btn-checkout"},{default:v(()=>[...t[3]||(t[3]=[y("Comprar",-1)])]),_:1})])])):(n(),o("div",W,[t[6]||(t[6]=s("h2",null,"Tu carrito está vacío",-1)),t[7]||(t[7]=s("p",null,"¿Por qué no echas un vistazo a nuestras ofertas?",-1)),_(u(h),{to:"/",class:"btn-view-store"},{default:v(()=>[...t[5]||(t[5]=[y("Ver tienda",-1)])]),_:1})]))])]))}};export{Z as default};
