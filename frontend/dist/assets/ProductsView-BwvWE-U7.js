import{k as g,c as a,b as s,F as v,l as f,t as i,a as u,m as h,r,o,g as y,h as m,i as x,R as b}from"./index-Dn0hYYMP.js";const k={class:"page-index",style:{display:"block","min-height":"80vh"}},w={class:"offers",style:{background:"transparent","padding-top":"40px"}},F={key:0,class:"text-center text-white"},C={key:1,class:"products"},P={key:0,class:"discount-badge"},N=["src","alt"],V={class:"product-text"},$={class:"title"},B={class:"price"},L={key:0,class:"old-price"},E={key:2,class:"flex justify-center mt-8 gap-4"},R=["disabled"],j={class:"text-white py-2"},D=["disabled"],S={__name:"ProductsView",setup(I){const _=r([]),c=r(!0),n=r(1),l=r(1),d=async(p=1)=>{c.value=!0;try{const t=await h.get(`/products?page=${p}`);_.value=t.data.data,n.value=t.data.meta.current_page,l.value=t.data.meta.last_page}catch(t){console.error("Error fetching products:",t)}finally{c.value=!1}};return g(()=>{d()}),(p,t)=>(o(),a("div",k,[s("section",w,[t[2]||(t[2]=s("h2",{class:"text-center mb-8"},"Catálogo Completo",-1)),c.value?(o(),a("div",F,"Loading...")):(o(),a("div",C,[(o(!0),a(v,null,f(_.value,e=>(o(),a("div",{key:e.id,class:"product"},[y(x(b),{to:`/products/${e.id}`},{default:m(()=>[e.is_offer?(o(),a("span",P,"-"+i(parseInt(e.offer_percentage))+"%",1)):u("",!0),s("img",{src:e.image_url,alt:e.name},null,8,N),s("div",V,[s("span",$,i(e.name),1),s("div",B,[e.is_offer?(o(),a("span",L,i(parseFloat(e.price).toFixed(2))+"€",1)):u("",!0),s("span",null,i(e.is_offer?(e.price*(1-e.offer_percentage/100)).toFixed(2):parseFloat(e.price).toFixed(2))+"€",1)])])]),_:2},1032,["to"])]))),128))])),l.value>1?(o(),a("div",E,[s("button",{onClick:t[0]||(t[0]=e=>d(n.value-1)),disabled:n.value===1,class:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-50"}," Previous ",8,R),s("span",j,"Page "+i(n.value)+" of "+i(l.value),1),s("button",{onClick:t[1]||(t[1]=e=>d(n.value+1)),disabled:n.value===l.value,class:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-50"}," Next ",8,D)])):u("",!0)])]))}};export{S as default};
