import{_ as f,k as y,c as n,t as o,b as s,a as h,F as k,l as w,g as x,h as b,m as S,r as c,q as C,x as N,o as r,d as V}from"./index-Dn0hYYMP.js";const F={class:"success-page"},q={key:0,class:"loading"},D={key:1,class:"error"},E={key:2,class:"success-container"},P={class:"order-details"},B={class:"detail-row"},L={class:"value"},T={class:"detail-row"},I={class:"value"},R={class:"detail-row"},z={class:"value"},M={key:0,class:"detail-row"},O={class:"value"},$={class:"products-list"},j={class:"product-info"},A={class:"quantity"},G={class:"price"},H={class:"product-total"},J={class:"actions"},K={__name:"SuccessView",setup(Q){const p=N(),e=c(null),u=c(!0),d=c(null),_=async()=>{try{const a=await S.get(`/orders/${p.params.id}`);e.value=a.data.data}catch(a){console.error("Error fetching order:",a),d.value="No se pudo cargar la información del pedido."}finally{u.value=!1}};y(()=>{_()});const v=a=>a?new Date(a).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",i=a=>parseFloat(a).toFixed(2)+" €",m=a=>a.toString().padStart(6,"0");return(a,t)=>{const g=C("router-link");return r(),n("div",F,[u.value?(r(),n("div",q,"Cargando...")):d.value?(r(),n("div",D,o(d.value),1)):(r(),n("div",E,[t[6]||(t[6]=s("div",{class:"success-icon"},"✓",-1)),t[7]||(t[7]=s("h1",null,"¡Pago Realizado con Éxito!",-1)),s("div",P,[s("div",B,[t[0]||(t[0]=s("span",{class:"label"},"Número de pedido:",-1)),s("span",L,"#"+o(m(e.value.id)),1)]),s("div",T,[t[1]||(t[1]=s("span",{class:"label"},"Fecha:",-1)),s("span",I,o(v(e.value.created_at)),1)]),s("div",R,[t[2]||(t[2]=s("span",{class:"label"},"Total pagado:",-1)),s("span",z,o(i(e.value.total)),1)]),e.value.transaction_id?(r(),n("div",M,[t[3]||(t[3]=s("span",{class:"label"},"Transacción:",-1)),s("span",O,o(e.value.transaction_id),1)])):h("",!0),t[4]||(t[4]=s("div",{class:"detail-row"},[s("span",{class:"label"},"Estado:"),s("span",{class:"value success"},"Completado")],-1))]),t[8]||(t[8]=s("h2",null,"Productos comprados:",-1)),s("div",$,[(r(!0),n(k,null,w(e.value.items,l=>(r(),n("div",{key:l.id,class:"product-item"},[s("div",j,[s("h4",null,o(l.product_name),1),s("p",A,"Cantidad: "+o(l.quantity),1),s("p",G,"Precio unitario: "+o(i(l.price)),1)]),s("div",H,[s("span",null,o(i(l.price*l.quantity)),1)])]))),128))]),s("div",J,[x(g,{to:"/",class:"btn-primary"},{default:b(()=>[...t[5]||(t[5]=[V("Seguir comprando",-1)])]),_:1})])]))])}}},W=f(K,[["__scopeId","data-v-c0ccd504"]]);export{W as default};
